/*! nekumo-web 2016-02-06 01:49 */
function getCurrentNode(){return document.location.pathname}var WebSocketFactory=function(a,b,c,d,e){var f=a(sprintf("ws://%s%s",document.location.host,websocket_path)),g={};f.onMessage(function(a){var b=JSON.parse(a.data),c=b.id;if(g[c]){var d=g[c];"error"!=b.status?(1==b.end&&_.remove(g,function(a){return d==a}),d.resolve(b)):d.reject(b)}}),f.onClose(function(){e.critical("cerrada conexión con servidor","La conexión que se mantenía entre el servidor y su navegador, se ha cerrado por alguna razón.","Esto puede ser debido a un problema de conexión (bien por su parte o del servidor), o que el servidor haya caído (desconexión, reinicio, etc.).","Recargue la ventana. Si el problema persistiese, compruebe su conexión. Si nada de lo anterior funcionase, contacte con el administrador del servidor.")}),f.onError(function(){e.error("Error en la conexión con el servidor","Ha habido un error en la conexión entre usted y el servidor.","El error puede ser debido a un fallo de conexión, o un error de programación.")});var h=function(a){var b={id:UUIDjs.create(1).hex};return a&&(b.method=a),b};return{get:function(a){return a||(a={}),a=_.merge(h(),a),f.send(JSON.stringify(a)),b(function(b,c){var d={};d.resolve=b,d.reject=c,g[a.id]=d})}}};WebSocketFactory.$inject=["$websocket","$q","$mdToast","$mdDialog","DialogMessage"],app.factory("WebSocket",WebSocketFactory),app.controller("BaseCtrl",["$rootScope","$scope","$mdMenu",function(a,b,c){c._hide=c.hide,c.hide=function(){a.$broadcast("mdMenuHidden"),c._hide.apply(this,arguments)}}]);